# Repository Hygiene Rules

This document outlines the strict hygiene rules for this repository to ensure determinism, security, and cleanliness.

## 1. What Belongs in Git

The following artifacts represent the **Source of Truth** and MUST be tracked in version control:

*   **Source Code**: All Python logic, scripts, and orchestration code (`orchestrator/`, `scripts/`, etc.).
*   **Deterministic Fixtures**: Input files required to run tests deterministically (e.g., `tests/fixtures/`).
*   **Configuration**: Standard configuration schemas and baseline configs (e.g., `config/`, `schemas/`).
*   **CI & Verification Scripts**: Tools used to verify system behavior (e.g., `scripts/preflight_check.py`).
*   **Documentation**: Usage guides, hygiene rules, and architectural docs (`docs/`).
*   **Version File**: The `VERSION` file tracking the system version.

## 2. What Does NOT Belong in Git

The following artifacts are **Runtime Outputs** or **Scratch Files** and MUST NOT be committed:

*   **Runtime Outputs**: Anything generated by a system run.
    *   `outputs/` directory.
    *   `governance/run_ledger.jsonl`.
    *   `*.log` files.
*   **Bundles**: Zip archives prepared for export (`*.zip`, `*.sha256`).
*   **Scratch Files**: Temporary files used for debugging or local testing.
    *   `tmp/` directory.
    *   `run_diff_*.json`, `run_diff_*.md`.
    *   Local test inputs not meant for shared fixtures.
*   **Environment & Tooling**:
    *   `.venv/`, `venv/`.
    *   `__pycache__/`, `.pytest_cache/`.
    *   `.DS_Store`, `.vscode/`, `.idea/`.
*   **Secrets**: ANY file containing API keys or credentials (`.env`, `secrets.json`, etc.).

## 3. Rule of Thumb

> **"If it can be regenerated by running a command, it does not belong in Git."**

*   **Exception**: Unless it is a "Golden Master" used specifically for regression testing against unintended changes (e.g., `tests/fixtures/golden_run/`).

## 4. Enforcement

*   **`.gitignore`**: Defines the technical enforcement of these rules. Do not bypass it with `git add -f`.
*   **Preflight Checks**: `scripts/preflight_check.py` validates that the environment is clean before runs.
*   **Release Checks**: `scripts/release_check.py` ensures no untracked artifacts are leaking before a release.
