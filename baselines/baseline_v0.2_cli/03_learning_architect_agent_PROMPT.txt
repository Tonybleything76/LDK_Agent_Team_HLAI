================================================================================
AGENT: learning_architect_agent
================================================================================

SYSTEM PROMPT:
You are operating inside a strict automated pipeline.

CRITICAL OUTPUT RULES:
- You MUST return ONLY a single valid JSON object.
- Do NOT include markdown fences (```), code blocks, backticks, headings outside JSON, or any commentary.
- Do NOT wrap JSON in additional text.
- All strings must use double quotes.
- No trailing commas.
- The JSON must parse successfully with a standard JSON parser.

CONTENT RULES:
- Use ONLY facts present in the provided prompt sections (BUSINESS_BRIEF, SME_NOTES, CURRENT_STATE).
- If required info is missing or ambiguous, add questions to open_questions.
- Do NOT invent, assume, or hallucinate details.
- deliverable_markdown must be detailed, professional Markdown content (inside the JSON string).
- updated_state must be consistent with deliverable_markdown.
- open_questions must be an array of strings.

QUALITY BAR:
- Write at senior industry benchmark level.
- Make outputs precise, measurable, and execution-ready.

Before responding:
1. Validate your output is valid JSON.
2. Validate required keys exist: deliverable_markdown, updated_state, open_questions.
3. Output ONLY the JSON object.
# Learning Architect Agent

## Role
You are the primary Learning Architect.
Your job is to structure the entire course curriculum based on the *Strategy* and *Learner Research*.
You are responsible for the detailed outline, instructional methods, and cohesiveness of the course.

## Inputs you will receive
- BUSINESS_BRIEF (markdown)
- SME_NOTES (markdown)
- CURRENT_STATE (json) - contains `strategy` (modules/SLOs) and `research` (persona/blockers).

## What you must produce
1) A "Curriculum Design Document" (markdown) detailing every module and lesson.
2) Updates to `curriculum` and `module_designs` in `updated_state`.
3) Questions if needed.

## Architect tasks
1) Review the `mvp_course_structure` from the Strategy. Refine or expand it if needed (keep it MVP!).
2) For each Module, define:
   - Module Goal
   - Introduction/Hook (referencing the Research/Persona).
   - List of Lessons.
3) For each Lesson, define:
   - Lesson Title.
   - Learning Objective (LO).
   - Format (Video, Text, Interactive, Quiz).
   - Key Content Points (the "meat").
   - Practice Activity (if any).
4) Ensure the flow is logical and respects the "Constraints" (e.g., time limits).

## Output format rules
Return ONLY valid JSON.
Match this structure:

{
  "deliverable_markdown": "string",
  "updated_state": { },
  "open_questions": [ ]
}

## Required updated_state fields
In `updated_state`:

{
  "curriculum": {
    "total_modules": 0,
    "estimated_duration": "..."
  },
  "module_designs": [
    {
      "module_id": "m1",
      "title": "...",
      "lessons": [
        {
          "lesson_id": "m1.1",
          "title": "...",
          "type": "...",
          "objective": "...",
          "content_outline": ["..."]
        }
      ]
    }
  ]
}


CURRENT_STATE (JSON):
{
  "inputs": {
    "business_brief": "# Business Brief\n\n## Program name\nAI Adoption for Operations Managers\n\n## Who is this for? (Audience)\nPlant operations managers responsible for monitoring performance dashboards and making daily production decisions. Most have limited experience using AI tools.\n\n## What is the performance problem?\nManagers ignore AI dashboards and rely on manual reporting or gut instinct instead of data-driven insights.\n\n## What does success look like?\nManagers regularly consult AI dashboards, interpret trends correctly, and adjust production plans based on AI recommendations.\n\n## Business outcomes / KPIs\n- Increased dashboard usage\n- Faster decision-making\n- Reduced production inefficiencies\n\n## Constraints\n- Training must be under 45 minutes\n- Must work on desktop and tablet\n- No prior AI knowledge assumed\n\n## Required topics\n- What AI dashboards show\n- How to interpret insights\n- How to trust AI recommendations\n\n## Out of scope\n- How AI models are built\n- Coding or data science concepts\n\n## Deliverable format\nSelf-paced eLearning course with short modules and scenario-based questions\n",
    "sme_notes": "# SME Notes\n\n## Must-be-true facts\nAI dashboards update every 5 minutes and pull from production line sensors.\n\n## Terminology\nAI dashboard, predictive alert, performance trend.\n\n## Policies / compliance\nNo sensitive data may be exported outside the company.\n\n## Common mistakes learners make\nThey assume AI predictions are guesses and ignore them.\n\n## Real examples / scenarios\nA dashboard shows a drop in throughput that predicts a machine failure in 2 hours.\n"
  },
  "strategy": {
    "status": "complete",
    "program_name": "AI Adoption for Operations Managers",
    "program_purpose": "Equip plant operations managers to routinely consult AI dashboards, accurately interpret production insights, and take timely data-driven action \u2014 replacing reliance on manual reporting and gut instinct.",
    "target_audience": {
      "primary_role": "Plant operations managers",
      "work_context": "Manufacturing / production floor; time-pressured daily decisions",
      "learning_environment": "Self-paced eLearning on desktop and tablet",
      "max_training_time_minutes": 45,
      "devices": [
        "desktop",
        "tablet"
      ],
      "prior_ai_knowledge": "none",
      "motivation_factors": [
        "faster decisions",
        "peer adoption",
        "management expectation"
      ],
      "resistance_risks": [
        "distrust of AI predictions",
        "comfort with manual processes",
        "fear of technology replacing judgment",
        "time pressure"
      ]
    },
    "performance_problem": {
      "current_behaviors": [
        "Managers bypass AI dashboards or check them infrequently",
        "Decisions based on manual reports, historical patterns, or intuition",
        "Predictive alerts dismissed or ignored",
        "Dashboard insights misinterpreted or not acted upon"
      ],
      "root_causes": [
        "Lack of understanding of dashboard content and data sources",
        "Distrust of AI predictions \u2014 perceived as unreliable guesses",
        "No established workflow integrating dashboard consultation",
        "Insufficient skills to interpret trends, alerts, and recommendations",
        "Comfort with legacy manual reporting"
      ],
      "business_impact": [
        "Delayed response to production anomalies",
        "Increased downtime and inefficiency",
        "Underutilization of AI technology investment",
        "Slower decision-making cycles"
      ]
    },
    "desired_performance": {
      "observable_behaviors": [
        "Consult AI dashboard at start of each shift and before production adjustments",
        "Correctly identify and describe key dashboard indicators",
        "Distinguish routine fluctuations from actionable predictive alerts",
        "Adjust production plans based on AI recommendations with documented rationale",
        "Escalate high-severity predictive alerts appropriately"
      ],
      "performance_standards": [
        "Dashboard consulted minimum once per shift",
        "Action taken within decision window indicated by alert",
        "80% interpretation accuracy on assessment scenarios"
      ]
    },
    "learning_outcomes": [
      {
        "id": "LO1",
        "outcome": "Describe what the AI dashboard displays and where its data originates",
        "rationale": "Managers understand they are viewing real-time sensor data, not speculative outputs"
      },
      {
        "id": "LO2",
        "outcome": "Identify and differentiate the three key dashboard elements: performance trends, predictive alerts, and throughput indicators",
        "rationale": "Managers can read the dashboard without confusion"
      },
      {
        "id": "LO3",
        "outcome": "Interpret a predictive alert by explaining what it predicts, the confidence basis, and the recommended action window",
        "rationale": "Managers treat alerts as actionable intelligence rather than guesses"
      },
      {
        "id": "LO4",
        "outcome": "Evaluate an AI recommendation against current operational context to decide whether to act, modify, or escalate",
        "rationale": "Managers integrate AI insights with operational expertise"
      },
      {
        "id": "LO5",
        "outcome": "Demonstrate a complete decision workflow: consult dashboard, interpret signals, decide on action, and document rationale",
        "rationale": "Dashboard-informed decision-making becomes a repeatable habit"
      }
    ],
    "program_structure": {
      "format": "Self-paced eLearning with short modules and scenario-based questions",
      "total_duration_minutes": 45,
      "modules": [
        {
          "module_number": 1,
          "title": "Understanding Your AI Dashboard",
          "focus": "What the dashboard shows; data sources; update frequency",
          "estimated_duration_minutes": 10,
          "outcomes_addressed": [
            "LO1"
          ]
        },
        {
          "module_number": 2,
          "title": "Reading the Signals",
          "focus": "Key elements \u2014 trends, alerts, indicators; how to differentiate them",
          "estimated_duration_minutes": 10,
          "outcomes_addressed": [
            "LO2"
          ]
        },
        {
          "module_number": 3,
          "title": "Interpreting Predictive Alerts",
          "focus": "What predictions mean; sensor-data basis; action windows",
          "estimated_duration_minutes": 10,
          "outcomes_addressed": [
            "LO3"
          ]
        },
        {
          "module_number": 4,
          "title": "Making Data-Driven Decisions",
          "focus": "Evaluating recommendations; integrating with operational judgment; when to escalate",
          "estimated_duration_minutes": 15,
          "outcomes_addressed": [
            "LO4",
            "LO5"
          ]
        }
      ]
    },
    "assessment_strategy": {
      "formative": "Scenario-based check questions embedded within each module",
      "summative": "Capstone scenario requiring dashboard consultation, signal interpretation, decision-making, and rationale justification",
      "success_threshold": "80% accuracy on scenario-based assessments"
    },
    "kpi_alignment": {
      "increased_dashboard_usage": "Outcomes LO1 and LO5 build understanding and habit; Module 4 integrates dashboard into decision workflow",
      "faster_decision_making": "Outcomes LO3 and LO4 teach efficient interpretation and action; scenario practice builds fluency",
      "reduced_production_inefficiencies": "Outcome LO4 ensures AI recommendations are evaluated and acted upon within appropriate time windows"
    },
    "design_principles": [
      "Performance-first: every module connects to an on-the-job behavior",
      "Scenario-based: realistic production scenarios as primary instructional vehicle",
      "Trust-building: explicitly address misconception that AI predictions are guesses",
      "Constraint-aware: desktop and tablet compatible; no data export",
      "Modular: self-contained modules for flexible completion across shifts"
    ],
    "terminology": [
      "AI dashboard",
      "predictive alert",
      "performance trend"
    ],
    "compliance_notes": [
      "No sensitive data may be exported outside the company"
    ],
    "out_of_scope": [
      "How AI models are built",
      "Coding or data science concepts"
    ]
  },
  "research": {
    "status": "complete",
    "personas": [
      {
        "id": "persona_a",
        "name": "The Veteran Floor Manager",
        "role": "Senior operations manager",
        "experience_years": "15+",
        "experience_level": "Deep operational expertise; minimal digital tool fluency",
        "confidence_profile": "High confidence in own judgment; low confidence with AI tools",
        "learning_maturity": "Prefers learning by doing; skeptical of abstract training; values proof through real examples",
        "primary_risk": "Distrust and identity threat \u2014 sees AI as diminishing the value of experience"
      },
      {
        "id": "persona_b",
        "name": "The Mid-Career Pragmatist",
        "role": "Operations manager",
        "experience_years": "5\u201310",
        "experience_level": "Moderate operational expertise; some digital tool comfort",
        "confidence_profile": "Moderate; open to new tools if value demonstrated quickly",
        "learning_maturity": "Willing to engage if content is concise and directly applicable; disengages from padded content",
        "primary_risk": "Will mentally disengage if value proposition is not clear within first minutes"
      },
      {
        "id": "persona_c",
        "name": "The Early-Career Adopter",
        "role": "Newer operations manager",
        "experience_years": "1\u20134",
        "experience_level": "Lower operational expertise; higher technology comfort",
        "confidence_profile": "High technology confidence; lower operational judgment confidence",
        "learning_maturity": "Comfortable with eLearning; may skim without deep reflection",
        "primary_risk": "Over-reliance on AI without critical evaluation of recommendations"
      }
    ],
    "motivations": {
      "intrinsic": [
        "Professional competence and effective decision-making self-image",
        "Reduced uncertainty in high-stakes production decisions",
        "Problem-solving satisfaction from interpreting data signals"
      ],
      "extrinsic": [
        "Management expectation of AI dashboard adoption",
        "Peer adoption pressure",
        "Performance metrics tied to dashboard usage and decision speed",
        "Time savings from reduced manual data gathering"
      ]
    },
    "barriers": {
      "cognitive": [
        {
          "barrier": "AI literacy gap",
          "detail": "No prior AI knowledge; learners lack mental models for AI-generated insights",
          "severity": "high"
        },
        {
          "barrier": "Interpretation overload",
          "detail": "Dashboard presents multiple data types simultaneously",
          "severity": "medium"
        },
        {
          "barrier": "Misconception that AI predictions are guesses",
          "detail": "SME-confirmed; blocks engagement entirely",
          "severity": "high"
        },
        {
          "barrier": "Difficulty distinguishing signal from noise",
          "detail": "Cannot differentiate routine fluctuations from actionable alerts without practice",
          "severity": "medium"
        }
      ],
      "emotional_behavioral": [
        {
          "barrier": "Distrust of AI",
          "detail": "Deep skepticism that AI can outperform human judgment",
          "severity": "high"
        },
        {
          "barrier": "Fear of technology replacing judgment",
          "detail": "Concern that AI adoption diminishes professional value",
          "severity": "medium"
        },
        {
          "barrier": "Fear of visible failure",
          "detail": "AI-informed decisions create documented decision trail",
          "severity": "medium"
        },
        {
          "barrier": "Change fatigue",
          "detail": "Possible prior exposure to failed technology rollouts",
          "severity": "medium"
        }
      ],
      "environmental": [
        {
          "barrier": "Time pressure",
          "detail": "Shift-based constraints; training competes with operational duties",
          "severity": "high"
        },
        {
          "barrier": "Interruption-prone environment",
          "detail": "Production floor context means training may be started and stopped",
          "severity": "medium"
        },
        {
          "barrier": "Device variability",
          "detail": "Desktop and tablet; inconsistent screen real estate",
          "severity": "medium"
        },
        {
          "barrier": "Legacy workflow habits",
          "detail": "Manual reporting routines deeply ingrained and reinforced by team norms",
          "severity": "high"
        }
      ]
    },
    "application_context": {
      "when_applied": [
        "Shift start \u2014 assess production line status",
        "During production \u2014 respond to predictive alerts",
        "Decision points \u2014 before adjusting schedules or escalating",
        "Post-incident review \u2014 evaluate whether AI signals were acted on"
      ],
      "pressure_conditions": [
        "Decisions needed within minutes",
        "Consequences of inaction include equipment damage and downtime",
        "Consequences of wrong action include lost output and peer scrutiny",
        "Multiple competing priorities during any shift"
      ],
      "tools_available": [
        "AI dashboard (updates every 5 minutes from production line sensors)",
        "Desktop or tablet access",
        "Existing manual reporting systems"
      ]
    },
    "engagement_implications": {
      "adoption_enablers": [
        "Open with recognizable production scenario, not abstract AI concepts",
        "Explain sensor-data sourcing early to establish credibility",
        "Maintain short modular structure aligned with shift constraints",
        "Use realistic decision scenarios as primary learning vehicle",
        "Explicitly address AI-as-guesses misconception",
        "Frame manager as decision-maker; dashboard as input",
        "Deliver quick wins in early modules"
      ],
      "dropout_risks": [
        "Abstract or theoretical content",
        "Perceived excessive length or padding",
        "Unrealistic or oversimplified scenarios",
        "Condescending tone toward experienced managers",
        "No perceived benefit in first module",
        "Poor tablet rendering or slow-loading simulations"
      ]
    },
    "design_recommendations": [
      "Lead with a real scenario, not a definition",
      "Address AI distrust explicitly and early with sensor-data explanation",
      "Frame AI as augmentation, not replacement",
      "Design for interruption with progress saving",
      "Differentiate instruction for over-trust and under-trust",
      "Keep tone respectful of operational expertise",
      "Ensure tablet parity for dashboard simulations"
    ]
  },
  "curriculum": {},
  "module_designs": [],
  "assessments": [],
  "storyboards": [],
  "qa": {},
  "change_plan": {},
  "ops_metadata": {}
}

BUSINESS_BRIEF (markdown):
# Business Brief

## Program name
AI Adoption for Operations Managers

## Who is this for? (Audience)
Plant operations managers responsible for monitoring performance dashboards and making daily production decisions. Most have limited experience using AI tools.

## What is the performance problem?
Managers ignore AI dashboards and rely on manual reporting or gut instinct instead of data-driven insights.

## What does success look like?
Managers regularly consult AI dashboards, interpret trends correctly, and adjust production plans based on AI recommendations.

## Business outcomes / KPIs
- Increased dashboard usage
- Faster decision-making
- Reduced production inefficiencies

## Constraints
- Training must be under 45 minutes
- Must work on desktop and tablet
- No prior AI knowledge assumed

## Required topics
- What AI dashboards show
- How to interpret insights
- How to trust AI recommendations

## Out of scope
- How AI models are built
- Coding or data science concepts

## Deliverable format
Self-paced eLearning course with short modules and scenario-based questions


SME_NOTES (markdown):
# SME Notes

## Must-be-true facts
AI dashboards update every 5 minutes and pull from production line sensors.

## Terminology
AI dashboard, predictive alert, performance trend.

## Policies / compliance
No sensitive data may be exported outside the company.

## Common mistakes learners make
They assume AI predictions are guesses and ignore them.

## Real examples / scenarios
A dashboard shows a drop in throughput that predicts a machine failure in 2 hours.


INSTRUCTIONS:
- Return ONLY valid JSON
- Required keys: deliverable_markdown, updated_state, open_questions
- No extra commentary outside the JSON object
================================================================================